<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/main.css">
	<title>outage Simulation</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.8-b/css/style.min.css">
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
	<div class="columns is-centered">
		<div class="column is-one-quarter v-instruction-title">
			Tasks
		</div>
		<div class="column">
			<div class="tab">
				<button class="tablinks" onclick="openPart(event, 'task1')" , id="default">Advanced Shadowing and Outage Probability</button>
	
			</div>
		</div>
	</div>

	<div id="task1" class="tabcontent">
		<section class="fre" id="TASK1">
			<div class="max-width">
				<h2 class="title">Outage calculation</h2>
				<div class="columns is-centered">
					<div class="v-collapsible-instruction-container v-instruction-container" style="margin-top: 2%;">
						<div class="v-collapsible is-size-5">Instructions</div>
						<div class="v-content" style="text-align: left; padding-left: 10%; padding-right: 10%;">
							<h3> <b> To understand the different combining techniques in SIMO, follow these steps: </b> </h3>
							<br>
							<h3>
								<ol>
									<li> instructions </li>
								</ol>
							</h3>
							<br>
						</div>
					</div>
				</div>
				<div class="columns-container">
					<div class="left-column box">
				
							  <div id="inputs">
									<h3>🎛️ System Parameters</h3>
									<div class="input-group"> <label for="setting">📡 Environment Type:</label> <select id="setting"> <option value="urban">Urban (High Interference)</option> <option value="suburban">Suburban (Medium)</option> <option value="rural">Rural (Low Interference)</option> </select> </div>
									<div class="input-group"> <label for="Pt">🔋 Transmitter Power (dBm):</label> <input type="number" id="Pt" value="30" min="0" max="50" step="1"> </div>
									<div class="input-group"> <label for="Pmin">📶 Min Required Power (dBm):</label> <input type="number" id="Pmin" value="-85" min="-120" max="-50" step="1"> </div>
									<div class="input-group"> <label for="frequency">📻 Frequency (MHz):</label> <input type="number" id="frequency" value="900" min="400" max="6000" step="50"> </div>
									<!-- Path Loss Exponent and Shadow Fading Std Dev Inputs REMOVED -->
									<div class="input-group"> <label>🖱️ Click Mode:</label> <div class="mode-buttons"> <button class="mode-btn active" onclick="setMode('normal')">Normal</button> <button class="mode-btn" onclick="setMode('heavy')">Heavy</button> <button class="mode-btn" onclick="setMode('erase')">Erase</button> </div> </div>
									<button onclick="clearAll()">🗑️ Clear All Obstacles</button> <button onclick="randomObstacles()">🎲 Random Obstacles</button>
									<div class="instructions"> <strong>📋 Instructions:</strong><br> • Yellow circle = Transmitter<br> • Click cells to place obstacles<br> • Red outlined cells = Outage<br> • Tinged cells = Shadowed by obstacle<br> • Hover for detailed cell info<br> • Adjust parameters to see effects </div>
									<div class="legend"> <h4>🎨 Legend</h4> <div class="legend-item"> <div class="legend-color" style="background: radial-gradient(circle, #ffeb3b, #ff9800); border-radius: 50%;"></div> <span>Transmitter</span> </div>     <!-- ... other legend items ... -->
									<div class="legend-item"> 
											<div class="legend-color" style="background: linear-gradient(45deg, #555, #777);"></div> 
											<!-- MODIFIED Legend Text -->
											<span>Normal Obstacle (18dB Max Shadow)</span> 
									</div> 
									<div class="legend-item"> 
											<div class="legend-color" style="background: linear-gradient(45deg, #7A0000, #C01030);"></div> 
											<!-- MODIFIED Legend Text -->
											<span>Heavy Obstacle (35dB Max Shadow)</span> 
									</div>
									<!-- ... other legend items ... --> <div class="legend-item"> <div class="legend-color" style="background: #00ff00;"></div> <span>Strong Signal (>-60dBm)</span> </div> <div class="legend-item"> <div class="legend-color" style="background: #ffff00;"></div> <span>Medium Signal (-60 to -80dBm)</span> </div> <div class="legend-item"> <div class="legend-color" style="background: #ff0000;"></div> <span>Weak Signal (<-80dBm)</span> </div> <div class="legend-item"> <div class="legend-color" style="box-shadow: inset 0 0 0 1px #dd0033;"></div> <span>Outage Indication</span> </div> <div class="legend-item"> <div class="legend-color" style="background-color: rgba(0,0,0,0.15); border: 1px dashed #555;"></div> <span>Shadowed Cell (Tinge)</span> </div> </div>
				
						</div>
					</div>
					<div class="center-column box">
					
							<div id="simulation"> <div class="grid-container" id="grid-container"></div> </div>


					</div>
					<div class="right-column box">
						
							<div id="outputs">
								<h3>📊 Results & Analysis</h3>
								<div class="output-section"> <h4>🎯 Coverage Metrics</h4> <div class="metric"> <span class="metric-label">Outage Probability:</span> <span class="metric-value" id="outageProb">0.00%</span> </div> <div class="progress-bar"> <div class="progress-fill" id="outageProgress" style="width: 0%;"></div> </div> <div class="metric"> <span class="metric-label">Coverage Area:</span> <span class="metric-value" id="coverageArea">100.00%</span> </div> <div class="metric"> <span class="metric-label">Cells in Outage:</span> <span class="metric-value" id="outageCells">0 / 929</span> </div> </div>
								<div class="output-section"> <h4>📡 Signal Analysis</h4> <div class="metric"> <span class="metric-label">Avg Rx Power (Covered):</span> <span class="metric-value" id="avgReceivedPower">0.00 dBm</span> </div> <div class="metric"> <span class="metric-label">Min Rx Power (Covered):</span> <span class="metric-value" id="minReceivedPower">0.00 dBm</span> </div> <div class="metric"> <span class="metric-label">Max Rx Power (Covered):</span> <span class="metric-value" id="maxReceivedPower">0.00 dBm</span> </div> <div class="metric"> <span class="metric-label">Signal Dynamic Range:</span> <span class="metric-value" id="signalRange">0.00 dB</span> </div> </div>
								<div class="output-section"> <h4>🌐 Path Loss Analysis</h4> <div class="metric"> <span class="metric-label">Avg Total Path Loss:</span> <span class="metric-value" id="avgPathloss">0.00 dB</span> </div>
									<!-- Avg Shadow Loss (Obstacle + Random) changed to Avg Obstacle Shadow (dB) -->
									<div class="metric"> <span class="metric-label">Avg Obstacle Shadow (dB):</span> <span class="metric-value" id="avgShadowLoss">0.00 dB</span> </div> 
									<div class="metric"> <span class="metric-label">Max Coverage Distance:</span> <span class="metric-value" id="maxDistance">0.00 km</span> </div> </div>
								<div class="output-section"> <h4>🏢 Environment Impact</h4> <div class="metric"> <span class="metric-label">Environment Factor:</span> <span class="metric-value" id="envFactor">Urban</span> </div> <div class="metric"> <span class="metric-label">Obstacle Count:</span> <span class="metric-value" id="obstacleCount">0</span> </div>
									<!-- Shadowing Factor (from Std) changed to Shadowing Model -->
									<div class="metric"> <span class="metric-label">Shadowing Model:</span> <span class="metric-value" id="shadowingFactor">Obstacle-based</span> </div> 
								</div>
								<div class="status-indicator" id="systemStatus"> System Status: Excellent Coverage </div>
							</div>
						</div>
		
				</div>
			</div>
		</section>
	</div>
	</section>
	</div>
	<script src="./js/main.js"></script>
	<script src="https://cdn.jsdelivr.net/gh/virtual-labs/virtual-style@0.0.8-b/js/script.js"></script>

</body>
</html>
